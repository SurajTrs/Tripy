(()=>{var e={};e.id=300,e.ids=[173,300],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2775:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>m,routeModule:()=>d,serverHooks:()=>h,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>c});var a={};t.r(a),t.d(a,{GET:()=>p});var s=t(2706),o=t(8203),n=t(5994),i=t(9187),u=t(5173);async function p(e){try{let r=new URL(e.url),t=r.searchParams.get("origin"),a=r.searchParams.get("destination"),s=r.searchParams.get("departureDate"),o=r.searchParams.get("passengers");if(!t||!a||!s)return i.NextResponse.json({success:!1,message:"Missing required parameters"},{status:400});let n=await (0,u.searchBuses)({origin:t,destination:a,departureDate:s,passengers:o?parseInt(o,10):1});return i.NextResponse.json({success:!0,data:n})}catch(e){return console.error("Bus search error:",e),i.NextResponse.json({success:!1,message:e.message||"Failed to search buses"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/bus/route",pathname:"/api/bus",filename:"route",bundlePath:"app/api/bus/route"},resolvedPagePath:"/Users/surajrawat/Downloads/Tripy/app/api/bus/route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:l,workUnitAsyncStorage:c,serverHooks:h}=d;function m(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:c})}},6487:()=>{},8335:()=>{},5173:(e,r,t)=>{"use strict";async function a(e){if(!process.env.RAPIDAPI_KEY)throw Error("Bus API credentials are not configured.");try{return function(e,r,t,a){let s=[],o=["RedBus Express","AbhiBus Travels","eTravelSmart","Travelyaari","TicketGoose","KSRTC","MSRTC","GSRTC","TNSTC","UPSRTC"],n=["Volvo A/C Sleeper","Mercedes Multi-Axle","Volvo A/C Seater","Non A/C Sleeper","Non A/C Seater","Deluxe","Super Deluxe","Ultra Deluxe","Semi Sleeper"],i=["WiFi","Charging Point","Water Bottle","Blanket","Reading Light","Snacks","TV","Emergency Exit","CCTV"],u=5+Math.floor(6*Math.random());for(let a=0;a<u;a++){let u=6+Math.floor(18*Math.random()),p=Math.floor(60*Math.random()),d=`${u.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`,l=3+Math.floor(10*Math.random()),c=Math.floor(60*Math.random()),h=(u+l)%24,m=(p+c)%60,g=`${h.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`,M=500+Math.floor(2e3*Math.random()),f=o[Math.floor(Math.random()*o.length)],S=n[Math.floor(Math.random()*n.length)],x=2+Math.floor(4*Math.random()),v=[];for(let e=0;e<x;e++){let e=i[Math.floor(Math.random()*i.length)];v.includes(e)||v.push(e)}let b=5+Math.floor(36*Math.random()),C=(3+2*Math.random()).toFixed(1);s.push({id:`BUS-${Date.now()}-${a}`,operator:f,busType:S,departureTime:d,arrivalTime:g,duration:`${l}h ${c}m`,price:M,currency:"INR",departureCity:e,arrivalCity:r,departureDate:t,availableSeats:b,amenities:v,rating:parseFloat(C),deeplink:`https://example.com/book-bus/${f.toLowerCase().replace(/\s+/g,"-")}/${t}/${e.toLowerCase()}-${r.toLowerCase()}`})}return s.sort((e,r)=>e.price-r.price)}(e.origin,e.destination,e.departureDate,e.passengers)}catch(e){throw console.error("Bus API Error:",e),Error(`Failed to fetch bus data: ${e.message}`)}}async function s(e,r,t,a=!1){let o="string"==typeof e?e:e.id;if(await new Promise(e=>setTimeout(e,1500+1e3*Math.random())),!(Math.random()>.1))throw Error(`${a?"Return bus":"Bus"} booking failed - no seats available`);return{type:"bus",isReturn:a,bookingId:`BUS-${a?"RET-":""}${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`,pnr:`PNR${Math.random().toString(36).substring(2,8).toUpperCase()}`,status:"confirmed",busId:o,passengers:t,totalAmount:"object"==typeof e?e.price*t:0}}t.d(r,{i:()=>s,searchBuses:()=>a})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[994,452],()=>t(2775));module.exports=a})();