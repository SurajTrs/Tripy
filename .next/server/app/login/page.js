(()=>{var e={};e.id=520,e.ids=[520],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4329:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=t(260),a=t(8203),o=t(5155),n=t.n(o),i=t(4911),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3642)),"/Users/surajrawat/Downloads/Tripy/app/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9611)),"/Users/surajrawat/Downloads/Tripy/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,1129)),"/Users/surajrawat/Downloads/Tripy/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"]}],u=["/Users/surajrawat/Downloads/Tripy/app/login/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9535:(e,r,t)=>{Promise.resolve().then(t.bind(t,3642))},8764:(e,r,t)=>{Promise.resolve().then(t.bind(t,4014))},4014:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(5512),a=t(8009),o=t(9334),n=t(8531),i=t.n(n),l=t(2918);function d(){let[e,r]=(0,a.useState)({email:"",password:""}),[t,n]=(0,a.useState)(""),d=(0,o.useRouter)();(0,o.useSearchParams)();let{login:u,isLoading:c,error:p,clearError:m}=(0,l.n)(),x=async r=>{r.preventDefault(),n("");try{await u(e.email,e.password);let r=l.n.getState();console.log("Auth state after login:",{isAuthenticated:r.isAuthenticated,error:r.error,user:r.user}),r.error||(console.log("Redirecting to dashboard..."),setTimeout(()=>{d.push("/dashboard")},100))}catch(e){console.error("Login error:",e)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-violet-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Sign in to your Tripy account"})]}),t&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:t}),p&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:p}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",required:!0,value:e.email,onChange:t=>r({...e,email:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",required:!0,value:e.password,onChange:t=>r({...e,password:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500",placeholder:"Enter your password"})]}),(0,s.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-violet-600 to-purple-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-violet-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing In...":"Sign In"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(i(),{href:"/signup",className:"text-violet-600 hover:text-violet-700 font-semibold",children:"Sign up"})]})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{type:"button",onClick:()=>{r({email:"suraj@gmail.com",password:"password123"}),console.log("Test user credentials set")},className:"w-full bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-all duration-200",children:"Fill Test User"})})]})})})}function u(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-violet-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})})}),children:(0,s.jsx)(d,{})})}},3642:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/surajrawat/Downloads/Tripy/app/login/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/surajrawat/Downloads/Tripy/app/login/page.tsx","default")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[994,732,677,730,2],()=>t(4329));module.exports=s})();