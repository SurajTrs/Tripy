"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/globe.gl";
exports.ids = ["vendor-chunks/globe.gl"];
exports.modules = {

/***/ "(ssr)/./node_modules/globe.gl/dist/globe.gl.mjs":
/*!*************************************************!*\
  !*** ./node_modules/globe.gl/dist/globe.gl.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ globe)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"(ssr)/./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js\");\n/* harmony import */ var three_globe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three-globe */ \"(ssr)/./node_modules/three-globe/dist/three-globe.mjs\");\n/* harmony import */ var three_render_objects__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three-render-objects */ \"(ssr)/./node_modules/three-render-objects/dist/three-render-objects.mjs\");\n/* harmony import */ var accessor_fn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! accessor-fn */ \"(ssr)/./node_modules/accessor-fn/dist/accessor-fn.mjs\");\n/* harmony import */ var kapsule__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kapsule */ \"(ssr)/./node_modules/kapsule/dist/kapsule.mjs\");\n/* harmony import */ var _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tweenjs/tween.js */ \"(ssr)/./node_modules/@tweenjs/tween.js/dist/tween.esm.js\");\n\n\n\n\n\n\n\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".scene-container .clickable {\\n  cursor: pointer;\\n}\";\nstyleInject(css_248z);\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nfunction linkKapsule (kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n  dummyK._destructor && dummyK._destructor();\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar _excluded = [\"rendererConfig\", \"waitForGlobeReady\"];\nvar THREE = _objectSpread2(_objectSpread2({}, window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight,\n  DirectionalLight: three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight,\n  Vector2: three__WEBPACK_IMPORTED_MODULE_2__.Vector2,\n  REVISION: three__WEBPACK_IMPORTED_MODULE_2__.REVISION\n}), {}, {\n  CSS2DRenderer: three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_3__.CSS2DRenderer\n});\n\n//\n\n// Expose config from ThreeGlobe\nvar bindGlobe = linkKapsule('globe', three_globe__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nvar linkedGlobeProps = Object.assign.apply(Object, _toConsumableArray(['globeImageUrl', 'bumpImageUrl', 'globeTileEngineUrl', 'globeTileEngineMaxLevel', 'globeCurvatureResolution', 'showGlobe', 'showGraticules', 'showAtmosphere', 'atmosphereColor', 'atmosphereAltitude', 'onGlobeReady', 'pointsData', 'pointLat', 'pointLng', 'pointColor', 'pointAltitude', 'pointRadius', 'pointResolution', 'pointsMerge', 'pointsTransitionDuration', 'arcsData', 'arcStartLat', 'arcStartLng', 'arcStartAltitude', 'arcEndLat', 'arcEndLng', 'arcEndAltitude', 'arcColor', 'arcAltitude', 'arcAltitudeAutoScale', 'arcStroke', 'arcCurveResolution', 'arcCircularResolution', 'arcDashLength', 'arcDashGap', 'arcDashInitialGap', 'arcDashAnimateTime', 'arcsTransitionDuration', 'polygonsData', 'polygonGeoJsonGeometry', 'polygonCapColor', 'polygonCapMaterial', 'polygonSideColor', 'polygonSideMaterial', 'polygonStrokeColor', 'polygonAltitude', 'polygonCapCurvatureResolution', 'polygonsTransitionDuration', 'pathsData', 'pathPoints', 'pathPointLat', 'pathPointLng', 'pathPointAlt', 'pathResolution', 'pathColor', 'pathStroke', 'pathDashLength', 'pathDashGap', 'pathDashInitialGap', 'pathDashAnimateTime', 'pathTransitionDuration', 'heatmapsData', 'heatmapPoints', 'heatmapPointLat', 'heatmapPointLng', 'heatmapPointWeight', 'heatmapBandwidth', 'heatmapColorFn', 'heatmapColorSaturation', 'heatmapBaseAltitude', 'heatmapTopAltitude', 'heatmapsTransitionDuration', 'hexBinPointsData', 'hexBinPointLat', 'hexBinPointLng', 'hexBinPointWeight', 'hexBinResolution', 'hexMargin', 'hexTopCurvatureResolution', 'hexTopColor', 'hexSideColor', 'hexAltitude', 'hexBinMerge', 'hexTransitionDuration', 'hexPolygonsData', 'hexPolygonGeoJsonGeometry', 'hexPolygonColor', 'hexPolygonAltitude', 'hexPolygonResolution', 'hexPolygonMargin', 'hexPolygonUseDots', 'hexPolygonCurvatureResolution', 'hexPolygonDotResolution', 'hexPolygonsTransitionDuration', 'tilesData', 'tileLat', 'tileLng', 'tileAltitude', 'tileWidth', 'tileHeight', 'tileUseGlobeProjection', 'tileMaterial', 'tileCurvatureResolution', 'tilesTransitionDuration', 'particlesData', 'particlesList', 'particleLat', 'particleLng', 'particleAltitude', 'particlesSize', 'particlesSizeAttenuation', 'particlesColor', 'particlesTexture', 'ringsData', 'ringLat', 'ringLng', 'ringAltitude', 'ringColor', 'ringResolution', 'ringMaxRadius', 'ringPropagationSpeed', 'ringRepeatPeriod', 'labelsData', 'labelLat', 'labelLng', 'labelAltitude', 'labelRotation', 'labelText', 'labelSize', 'labelTypeFace', 'labelColor', 'labelResolution', 'labelIncludeDot', 'labelDotRadius', 'labelDotOrientation', 'labelsTransitionDuration', 'htmlElementsData', 'htmlLat', 'htmlLng', 'htmlAltitude', 'htmlElement', 'htmlElementVisibilityModifier', 'htmlTransitionDuration', 'objectsData', 'objectLat', 'objectLng', 'objectAltitude', 'objectRotation', 'objectFacesSurface', 'objectThreeObject', 'customLayerData', 'customThreeObject', 'customThreeObjectUpdate'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkProp(p));\n})));\nvar linkedGlobeMethods = Object.assign.apply(Object, _toConsumableArray(['globeMaterial', 'getGlobeRadius', 'getCoords', 'toGeoCoords'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkMethod(p));\n})));\n\n// Expose config from renderObjs\nvar bindRenderObjs = linkKapsule('renderObjs', three_render_objects__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'backgroundImageUrl', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['lights', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})));\n\n//\n\nvar globe = (0,kapsule__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n  props: _objectSpread2(_objectSpread2({\n    onZoom: {\n      triggerUpdate: false\n    },\n    onGlobeClick: {\n      triggerUpdate: false\n    },\n    onGlobeRightClick: {\n      triggerUpdate: false\n    },\n    pointLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPointClick: {\n      triggerUpdate: false\n    },\n    onPointRightClick: {\n      triggerUpdate: false\n    },\n    onPointHover: {\n      triggerUpdate: false\n    },\n    arcLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onArcClick: {\n      triggerUpdate: false\n    },\n    onArcRightClick: {\n      triggerUpdate: false\n    },\n    onArcHover: {\n      triggerUpdate: false\n    },\n    polygonLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPolygonClick: {\n      triggerUpdate: false\n    },\n    onPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onPolygonHover: {\n      triggerUpdate: false\n    },\n    pathLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPathClick: {\n      triggerUpdate: false\n    },\n    onPathRightClick: {\n      triggerUpdate: false\n    },\n    onPathHover: {\n      triggerUpdate: false\n    },\n    onHeatmapClick: {\n      triggerUpdate: false\n    },\n    onHeatmapRightClick: {\n      triggerUpdate: false\n    },\n    onHeatmapHover: {\n      triggerUpdate: false\n    },\n    hexLabel: {\n      triggerUpdate: false\n    },\n    onHexClick: {\n      triggerUpdate: false\n    },\n    onHexRightClick: {\n      triggerUpdate: false\n    },\n    onHexHover: {\n      triggerUpdate: false\n    },\n    hexPolygonLabel: {\n      triggerUpdate: false\n    },\n    onHexPolygonClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonHover: {\n      triggerUpdate: false\n    },\n    tileLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onTileClick: {\n      triggerUpdate: false\n    },\n    onTileRightClick: {\n      triggerUpdate: false\n    },\n    onTileHover: {\n      triggerUpdate: false\n    },\n    particleLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onParticleClick: {\n      triggerUpdate: false\n    },\n    onParticleRightClick: {\n      triggerUpdate: false\n    },\n    onParticleHover: {\n      triggerUpdate: false\n    },\n    labelLabel: {\n      triggerUpdate: false\n    },\n    onLabelClick: {\n      triggerUpdate: false\n    },\n    onLabelRightClick: {\n      triggerUpdate: false\n    },\n    onLabelHover: {\n      triggerUpdate: false\n    },\n    objectLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onObjectClick: {\n      triggerUpdate: false\n    },\n    onObjectRightClick: {\n      triggerUpdate: false\n    },\n    onObjectHover: {\n      triggerUpdate: false\n    },\n    customLayerLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onCustomLayerClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerRightClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerHover: {\n      triggerUpdate: false\n    },\n    pointerEventsFilter: {\n      \"default\": function _default() {\n        return true;\n      },\n      triggerUpdate: false\n    },\n    lineHoverPrecision: {\n      \"default\": 0.2,\n      triggerUpdate: false,\n      onChange: function onChange(val, state) {\n        state.renderObjs.lineHoverPrecision(val);\n        state.renderObjs.pointsHoverPrecision(val);\n      }\n    },\n    globeOffset: {\n      \"default\": [0, 0],\n      triggerUpdate: false,\n      onChange: function onChange(o, state) {\n        return Array.isArray(o) && o.length === 2 && state.renderObjs.viewOffset(o.map(function (v) {\n          return -v;\n        }));\n      }\n    }\n  }, linkedGlobeProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    pauseAnimation: function pauseAnimation(state) {\n      var _state$globe;\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n      (_state$globe = state.globe) === null || _state$globe === void 0 || _state$globe.pauseAnimation();\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      var _state$globe2;\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n      (_state$globe2 = state.globe) === null || _state$globe2 === void 0 || _state$globe2.resumeAnimation();\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      // Frame cycle\n      state.renderObjs.tick();\n      state.tweenGroup.update();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    pointOfView: function pointOfView(state) {\n      var geoCoords = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var transitionDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var curGeoCoords = getGeoCoords();\n\n      // Getter\n      if (geoCoords.lat === undefined && geoCoords.lng === undefined && geoCoords.altitude === undefined) {\n        return curGeoCoords;\n      } else {\n        // Setter\n        var finalGeoCoords = Object.assign({}, curGeoCoords, geoCoords);\n        ['lat', 'lng', 'altitude'].forEach(function (p) {\n          return finalGeoCoords[p] = +finalGeoCoords[p];\n        }); // coerce coords to number\n\n        if (!transitionDuration) {\n          // no animation\n          setCameraPos(finalGeoCoords);\n        } else {\n          // Avoid rotating more than 180deg longitude\n          while (curGeoCoords.lng - finalGeoCoords.lng > 180) curGeoCoords.lng -= 360;\n          while (curGeoCoords.lng - finalGeoCoords.lng < -180) curGeoCoords.lng += 360;\n          state.tweenGroup.add(new _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__.Tween(curGeoCoords).to(finalGeoCoords, transitionDuration).easing(_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__.Easing.Cubic.InOut).onUpdate(setCameraPos).start());\n        }\n        return this;\n      }\n\n      //\n\n      function getGeoCoords() {\n        return state.globe.toGeoCoords(state.renderObjs.cameraPosition());\n      }\n      function setCameraPos(_ref5) {\n        var lat = _ref5.lat,\n          lng = _ref5.lng,\n          altitude = _ref5.altitude;\n        state.renderObjs.cameraPosition(state.globe.getCoords(lat, lng, altitude));\n        state.globe.setPointOfView(state.renderObjs.camera()); // report position to globe\n      }\n    },\n    getScreenCoords: function getScreenCoords(state) {\n      var _state$globe3;\n      for (var _len = arguments.length, geoCoords = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        geoCoords[_key - 1] = arguments[_key];\n      }\n      var cartesianCoords = (_state$globe3 = state.globe).getCoords.apply(_state$globe3, geoCoords);\n      return state.renderObjs.getScreenCoords(cartesianCoords.x, cartesianCoords.y, cartesianCoords.z);\n    },\n    toGlobeCoords: function toGlobeCoords(state, x, y) {\n      var globeIntersects = state.renderObjs.intersectingObjects(x, y).find(function (d) {\n        return (d.object.__globeObjType || d.object.parent.__globeObjType) === 'globe';\n      });\n      if (!globeIntersects) return null; // coords outside globe\n\n      var _state$globe$toGeoCoo = state.globe.toGeoCoords(globeIntersects.point),\n        lat = _state$globe$toGeoCoo.lat,\n        lng = _state$globe$toGeoCoo.lng;\n      return {\n        lat: lat,\n        lng: lng\n      };\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    _destructor: function _destructor(state) {\n      state.globe._destructor();\n      this.pauseAnimation();\n      this.pointsData([]);\n      this.arcsData([]);\n      this.polygonsData([]);\n      this.pathsData([]);\n      this.heatmapsData([]);\n      this.hexBinPointsData([]);\n      this.hexPolygonsData([]);\n      this.tilesData([]);\n      this.particlesData([]);\n      this.labelsData([]);\n      this.htmlElementsData([]);\n      this.objectsData([]);\n      this.customLayerData([]);\n    }\n  }, linkedGlobeMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref6) {\n    var rendererConfig = _ref6.rendererConfig,\n      _ref6$waitForGlobeRea = _ref6.waitForGlobeReady,\n      waitForGlobeReady = _ref6$waitForGlobeRea === void 0 ? true : _ref6$waitForGlobeRea,\n      globeInitConfig = _objectWithoutProperties(_ref6, _excluded);\n    var globe = new three_globe__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_objectSpread2({\n      waitForGlobeReady: waitForGlobeReady\n    }, globeInitConfig));\n    return {\n      globe: globe,\n      renderObjs: (0,three_render_objects__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n        controlType: 'orbit',\n        rendererConfig: rendererConfig,\n        waitForLoadComplete: waitForGlobeReady,\n        extraRenderers: [new THREE.CSS2DRenderer()] // Used in HTML elements layer\n      }).skyRadius(globe.getGlobeRadius() * 500).showNavInfo(false).objects([globe]) // Populate scene\n      .lights([new THREE.AmbientLight(0xcccccc, Math.PI), new THREE.DirectionalLight(0xffffff, 0.6 * Math.PI)]),\n      tweenGroup: new _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__.Group()\n    };\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n    // Wipe DOM\n    domNode.innerHTML = '';\n\n    // Add relative container\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative';\n\n    // Add renderObjs\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n\n    // inject renderer size on three-globe\n    state.globe.rendererSize(state.renderObjs.renderer().getSize(new THREE.Vector2()));\n\n    // set initial distance\n    this.pointOfView({\n      altitude: 2.5\n    });\n\n    // calibrate orbit controls\n    var globeR = state.globe.getGlobeRadius();\n    var controls = state.renderObjs.controls();\n    state.renderObjs.camera().near = 0.05; // less will start causing depth z-fighting issues\n    controls.minDistance = globeR + Math.max(0.001, state.renderObjs.camera().near * 1.1); // just above the surface, as much as camera near plane permits\n    controls.maxDistance = globeR * 100;\n    controls.enablePan = false;\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.1;\n    controls.rotateSpeed = 0.3;\n    controls.zoomSpeed = 0.3;\n    controls.zoomToCursor = true;\n    controls.addEventListener('change', function () {\n      controls.target.setScalar(0); // Keep orbit target on center\n\n      // adjust controls speed based on altitude\n      var pov = _this.pointOfView();\n      controls.rotateSpeed = pov.altitude * 0.3;\n      controls.zoomSpeed = Math.sqrt(pov.altitude) * 0.5;\n\n      // Update three-globe pov when camera moves, for proper hiding of elements\n      state.globe.setPointOfView(state.renderObjs.camera());\n      state.onZoom && state.onZoom(pov);\n    });\n\n    // config renderObjs\n    var getGlobeObj = function getGlobeObj(object) {\n      var obj = object;\n      // recurse up object chain until finding the globe object\n      while (obj && !obj.hasOwnProperty('__globeObjType')) {\n        obj = obj.parent;\n      }\n      return obj;\n    };\n    var dataAccessors = {\n      point: function point(d) {\n        return d;\n      },\n      arc: function arc(d) {\n        return d;\n      },\n      polygon: function polygon(d) {\n        return d.data;\n      },\n      path: function path(d) {\n        return d;\n      },\n      heatmap: function heatmap(d) {\n        return d;\n      },\n      hexbin: function hexbin(d) {\n        return d;\n      },\n      hexPolygon: function hexPolygon(d) {\n        return d;\n      },\n      tile: function tile(d) {\n        return d;\n      },\n      particles: function particles(d, intersection) {\n        return !intersection || !intersection.hasOwnProperty('index') || d.length <= intersection.index ? d : d[intersection.index];\n      },\n      label: function label(d) {\n        return d;\n      },\n      object: function object(d) {\n        return d;\n      },\n      custom: function custom(d) {\n        return d;\n      }\n    };\n    THREE.REVISION < 155 && (state.renderObjs.renderer().useLegacyLights = false); // force behavior of three < 155\n    state.renderObjs.hoverFilter(function (obj) {\n      var o = getGlobeObj(obj);\n\n      // ignore non-globe objects\n      if (!o) return false;\n      var type = o.__globeObjType;\n      if (type !== 'globe' && !dataAccessors.hasOwnProperty(type)) return false; // Ignore obj types with no data\n      var d = dataAccessors.hasOwnProperty(type) && o.__data ? dataAccessors[type](o.__data) : null;\n\n      // Ignore merged geometry objects that don't have interaction per point\n      if (['points', 'hexBinPoints'].some(function (t) {\n        return t === type;\n      }) && Array.isArray(d)) return false;\n      return state.pointerEventsFilter(o, d);\n    }).tooltipContent(function (obj, intersection) {\n      var objAccessors = {\n        point: state.pointLabel,\n        arc: state.arcLabel,\n        polygon: state.polygonLabel,\n        path: state.pathLabel,\n        hexbin: state.hexLabel,\n        hexPolygon: state.hexPolygonLabel,\n        tile: state.tileLabel,\n        particles: state.particleLabel,\n        label: state.labelLabel,\n        object: state.objectLabel,\n        custom: state.customLayerLabel\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj && globeObj.__globeObjType;\n      return globeObj && objType && objAccessors.hasOwnProperty(objType) && dataAccessors.hasOwnProperty(objType) ? (0,accessor_fn__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(objAccessors[objType])(dataAccessors[objType](globeObj.__data, intersection)) || '' : '';\n    }).onHover(function (obj, _, intersection) {\n      // Update tooltip and trigger onHover events\n      var hoverObjFns = {\n        point: state.onPointHover,\n        arc: state.onArcHover,\n        polygon: state.onPolygonHover,\n        path: state.onPathHover,\n        heatmap: state.onHeatmapHover,\n        hexbin: state.onHexHover,\n        hexPolygon: state.onHexPolygonHover,\n        tile: state.onTileHover,\n        particles: state.onParticleHover,\n        label: state.onLabelHover,\n        object: state.onObjectHover,\n        custom: state.onCustomLayerHover\n      };\n      var clickObjFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        heatmap: state.onHeatmapClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        particles: state.onParticleClick,\n        label: state.onLabelClick,\n        object: state.onObjectClick,\n        custom: state.onCustomLayerClick\n      };\n      var hoverObj = getGlobeObj(obj);\n\n      // ignore non-recognised obj types\n      hoverObj && !hoverObjFns.hasOwnProperty(hoverObj.__globeObjType) && (hoverObj = null);\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__globeObjType : null;\n        var prevObjData = state.hoverData;\n        var objType = hoverObj ? hoverObj.__globeObjType : null;\n        var objData = hoverObj ? dataAccessors[objType](hoverObj.__data, intersection) : null;\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          hoverObjFns[prevObjType] && hoverObjFns[prevObjType](null, prevObjData || null);\n        }\n        if (objType) {\n          // Hover in\n          hoverObjFns[objType] && hoverObjFns[objType](objData, prevObjType === objType ? prevObjData : null);\n        }\n\n        // set pointer if hovered object is clickable\n        state.renderObjs.renderer().domElement.classList[objType && clickObjFns[objType] ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n        state.hoverData = objData;\n      }\n    }).onClick(function (obj, ev, intersection) {\n      if (!obj) return; // ignore background clicks\n\n      // Handle click events on objects\n      var objFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        heatmap: state.onHeatmapClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        particles: state.onParticleClick,\n        label: state.onLabelClick,\n        object: state.onObjectClick,\n        custom: state.onCustomLayerClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        // include click coords\n        var point = intersection !== null && intersection !== void 0 && intersection.isVector3 ? intersection : intersection === null || intersection === void 0 ? void 0 : intersection.point;\n        if (objType === 'globe') {\n          var _this$toGeoCoords = _this.toGeoCoords(point),\n            lat = _this$toGeoCoords.lat,\n            lng = _this$toGeoCoords.lng;\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        } else {\n          args.push(_this.toGeoCoords(point));\n        }\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data, intersection));\n        objFns[objType].apply(objFns, args);\n      }\n    }).onRightClick(function (obj, ev, intersection) {\n      if (!obj) return; // ignore background clicks\n\n      // Handle right-click events\n      var objFns = {\n        globe: state.onGlobeRightClick,\n        point: state.onPointRightClick,\n        arc: state.onArcRightClick,\n        polygon: state.onPolygonRightClick,\n        path: state.onPathRightClick,\n        heatmap: state.onHeatmapRightClick,\n        hexbin: state.onHexRightClick,\n        hexPolygon: state.onHexPolygonRightClick,\n        tile: state.onTileRightClick,\n        particles: state.onParticleRightClick,\n        label: state.onLabelRightClick,\n        object: state.onObjectRightClick,\n        custom: state.onCustomLayerRightClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        // include click coords\n        var point = intersection !== null && intersection !== void 0 && intersection.isVector3 ? intersection : intersection === null || intersection === void 0 ? void 0 : intersection.point;\n        if (objType === 'globe') {\n          var _this$toGeoCoords2 = _this.toGeoCoords(point),\n            lat = _this$toGeoCoords2.lat,\n            lng = _this$toGeoCoords2.lng;\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        } else {\n          args.push(_this.toGeoCoords(point));\n        }\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data, intersection));\n        objFns[objType].apply(objFns, args);\n      }\n    });\n\n    //\n\n    // Kick-off renderer\n    this._animationCycle();\n  }\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ2xvYmUuZ2wvZGlzdC9nbG9iZS5nbC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEU7QUFDSTtBQUN6QztBQUNpQjtBQUNqQjtBQUNQO0FBQzJCOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDLG9CQUFvQixHQUFHO0FBQ3BFOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYyx3Q0FBd0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsYUFBYTtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxnQkFBZ0IsK0NBQVk7QUFDNUIsb0JBQW9CLG1EQUFnQjtBQUNwQyxXQUFXLDBDQUFPO0FBQ2xCLFlBQVksMkNBQVE7QUFDcEIsQ0FBQyxLQUFLO0FBQ04saUJBQWlCLHdGQUFhO0FBQzlCLENBQUM7O0FBRUQ7O0FBRUE7QUFDQSxxQ0FBcUMsbURBQVU7QUFDL0M7QUFDQSwyQkFBMkI7QUFDM0IsQ0FBQztBQUNEO0FBQ0EsMkJBQTJCO0FBQzNCLENBQUM7O0FBRUQ7QUFDQSwrQ0FBK0MsNERBQWtCO0FBQ2pFO0FBQ0EsMkJBQTJCO0FBQzNCLENBQUM7QUFDRDtBQUNBLDJCQUEyQjtBQUMzQixDQUFDOztBQUVEOztBQUVBLFlBQVksbURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLFNBQVMsR0FBRzs7QUFFWjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9EQUFLLDZEQUE2RCxxREFBTTtBQUMzRztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0dBQWtHLGFBQWE7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtREFBVTtBQUM5QjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLGdFQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHNCQUFzQixvREFBSztBQUMzQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQywyRkFBMkY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1GQUFtRjtBQUNuRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0hBQW9ILHVEQUFVO0FBQzlILEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRTJCIiwic291cmNlcyI6WyIvVXNlcnMvc3VyYWpyYXdhdC9Eb3dubG9hZHMvVHJpcHkvbm9kZV9tb2R1bGVzL2dsb2JlLmdsL2Rpc3QvZ2xvYmUuZ2wubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJFVklTSU9OLCBWZWN0b3IyLCBEaXJlY3Rpb25hbExpZ2h0LCBBbWJpZW50TGlnaHQgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBDU1MyRFJlbmRlcmVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3JlbmRlcmVycy9DU1MyRFJlbmRlcmVyLmpzJztcbmltcG9ydCBUaHJlZUdsb2JlIGZyb20gJ3RocmVlLWdsb2JlJztcbmltcG9ydCBUaHJlZVJlbmRlck9iamVjdHMgZnJvbSAndGhyZWUtcmVuZGVyLW9iamVjdHMnO1xuaW1wb3J0IGFjY2Vzc29yRm4gZnJvbSAnYWNjZXNzb3ItZm4nO1xuaW1wb3J0IEthcHN1bGUgZnJvbSAna2Fwc3VsZSc7XG5pbXBvcnQgeyBHcm91cCwgVHdlZW4sIEVhc2luZyB9IGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJztcblxuZnVuY3Rpb24gc3R5bGVJbmplY3QoY3NzLCByZWYpIHtcbiAgaWYgKHJlZiA9PT0gdm9pZCAwKSByZWYgPSB7fTtcbiAgdmFyIGluc2VydEF0ID0gcmVmLmluc2VydEF0O1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gIGlmIChpbnNlcnRBdCA9PT0gJ3RvcCcpIHtcbiAgICBpZiAoaGVhZC5maXJzdENoaWxkKSB7XG4gICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgaGVhZC5maXJzdENoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBjc3NfMjQ4eiA9IFwiLnNjZW5lLWNvbnRhaW5lciAuY2xpY2thYmxlIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XCI7XG5zdHlsZUluamVjdChjc3NfMjQ4eik7XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHtcbiAgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpO1xuICBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTtcbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikge1xuICBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpO1xufVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHtcbiAgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwge1xuICAgIHZhbHVlOiB0LFxuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pIDogZVtyXSA9IHQsIGU7XG59XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHtcbiAgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTtcbn1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHtcbiAgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7XG4gICAgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlO1xuICAgIH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pO1xuICB9XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIoZSkge1xuICBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykge1xuICAgIHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTtcbiAgICByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7XG4gICAgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZSwgdCkge1xuICBpZiAobnVsbCA9PSBlKSByZXR1cm4ge307XG4gIHZhciBvLFxuICAgIHIsXG4gICAgaSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKGUsIHQpO1xuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBuID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtcbiAgICBmb3IgKHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgbyA9IG5bcl0sIC0xID09PSB0LmluZGV4T2YobykgJiYge30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLCBvKSAmJiAoaVtvXSA9IGVbb10pO1xuICB9XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UociwgZSkge1xuICBpZiAobnVsbCA9PSByKSByZXR1cm4ge307XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIG4gaW4gcikgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwociwgbikpIHtcbiAgICBpZiAoLTEgIT09IGUuaW5kZXhPZihuKSkgY29udGludWU7XG4gICAgdFtuXSA9IHJbbl07XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikge1xuICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHtcbiAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIHQgfHwgIXQpIHJldHVybiB0O1xuICB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKHZvaWQgMCAhPT0gZSkge1xuICAgIHZhciBpID0gZS5jYWxsKHQsIHIpO1xuICAgIGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiBpKSByZXR1cm4gaTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTtcbn1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHtcbiAgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7XG4gIHJldHVybiBcInN5bWJvbFwiID09IHR5cGVvZiBpID8gaSA6IGkgKyBcIlwiO1xufVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHtcbiAgaWYgKHIpIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpO1xuICAgIHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7XG4gICAgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gbGlua0thcHN1bGUgKGthcHN1bGVQcm9wTmFtZSwga2Fwc3VsZVR5cGUpIHtcbiAgdmFyIGR1bW15SyA9IG5ldyBrYXBzdWxlVHlwZSgpOyAvLyBUbyBleHRyYWN0IGRlZmF1bHRzXG4gIGR1bW15Sy5fZGVzdHJ1Y3RvciAmJiBkdW1teUsuX2Rlc3RydWN0b3IoKTtcbiAgcmV0dXJuIHtcbiAgICBsaW5rUHJvcDogZnVuY3Rpb24gbGlua1Byb3AocHJvcCkge1xuICAgICAgLy8gbGluayBwcm9wZXJ0eSBjb25maWdcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFwiZGVmYXVsdFwiOiBkdW1teUtbcHJvcF0oKSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHYsIHN0YXRlKSB7XG4gICAgICAgICAgc3RhdGVba2Fwc3VsZVByb3BOYW1lXVtwcm9wXSh2KTtcbiAgICAgICAgfSxcbiAgICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICAgIH07XG4gICAgfSxcbiAgICBsaW5rTWV0aG9kOiBmdW5jdGlvbiBsaW5rTWV0aG9kKG1ldGhvZCkge1xuICAgICAgLy8gbGluayBtZXRob2QgcGFzcy10aHJvdWdoXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBrYXBzdWxlSW5zdGFuY2UgPSBzdGF0ZVtrYXBzdWxlUHJvcE5hbWVdO1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJldHVyblZhbCA9IGthcHN1bGVJbnN0YW5jZVttZXRob2RdLmFwcGx5KGthcHN1bGVJbnN0YW5jZSwgYXJncyk7XG4gICAgICAgIHJldHVybiByZXR1cm5WYWwgPT09IGthcHN1bGVJbnN0YW5jZSA/IHRoaXMgLy8gY2hhaW4gYmFzZWQgb24gdGhlIHBhcmVudCBvYmplY3QsIG5vdCB0aGUgaW5uZXIga2Fwc3VsZVxuICAgICAgICA6IHJldHVyblZhbDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wicmVuZGVyZXJDb25maWdcIiwgXCJ3YWl0Rm9yR2xvYmVSZWFkeVwiXTtcbnZhciBUSFJFRSA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCB3aW5kb3cuVEhSRUUgPyB3aW5kb3cuVEhSRUUgLy8gUHJlZmVyIGNvbnN1bXB0aW9uIGZyb20gZ2xvYmFsIFRIUkVFLCBpZiBleGlzdHNcbjoge1xuICBBbWJpZW50TGlnaHQ6IEFtYmllbnRMaWdodCxcbiAgRGlyZWN0aW9uYWxMaWdodDogRGlyZWN0aW9uYWxMaWdodCxcbiAgVmVjdG9yMjogVmVjdG9yMixcbiAgUkVWSVNJT046IFJFVklTSU9OXG59KSwge30sIHtcbiAgQ1NTMkRSZW5kZXJlcjogQ1NTMkRSZW5kZXJlclxufSk7XG5cbi8vXG5cbi8vIEV4cG9zZSBjb25maWcgZnJvbSBUaHJlZUdsb2JlXG52YXIgYmluZEdsb2JlID0gbGlua0thcHN1bGUoJ2dsb2JlJywgVGhyZWVHbG9iZSk7XG52YXIgbGlua2VkR2xvYmVQcm9wcyA9IE9iamVjdC5hc3NpZ24uYXBwbHkoT2JqZWN0LCBfdG9Db25zdW1hYmxlQXJyYXkoWydnbG9iZUltYWdlVXJsJywgJ2J1bXBJbWFnZVVybCcsICdnbG9iZVRpbGVFbmdpbmVVcmwnLCAnZ2xvYmVUaWxlRW5naW5lTWF4TGV2ZWwnLCAnZ2xvYmVDdXJ2YXR1cmVSZXNvbHV0aW9uJywgJ3Nob3dHbG9iZScsICdzaG93R3JhdGljdWxlcycsICdzaG93QXRtb3NwaGVyZScsICdhdG1vc3BoZXJlQ29sb3InLCAnYXRtb3NwaGVyZUFsdGl0dWRlJywgJ29uR2xvYmVSZWFkeScsICdwb2ludHNEYXRhJywgJ3BvaW50TGF0JywgJ3BvaW50TG5nJywgJ3BvaW50Q29sb3InLCAncG9pbnRBbHRpdHVkZScsICdwb2ludFJhZGl1cycsICdwb2ludFJlc29sdXRpb24nLCAncG9pbnRzTWVyZ2UnLCAncG9pbnRzVHJhbnNpdGlvbkR1cmF0aW9uJywgJ2FyY3NEYXRhJywgJ2FyY1N0YXJ0TGF0JywgJ2FyY1N0YXJ0TG5nJywgJ2FyY1N0YXJ0QWx0aXR1ZGUnLCAnYXJjRW5kTGF0JywgJ2FyY0VuZExuZycsICdhcmNFbmRBbHRpdHVkZScsICdhcmNDb2xvcicsICdhcmNBbHRpdHVkZScsICdhcmNBbHRpdHVkZUF1dG9TY2FsZScsICdhcmNTdHJva2UnLCAnYXJjQ3VydmVSZXNvbHV0aW9uJywgJ2FyY0NpcmN1bGFyUmVzb2x1dGlvbicsICdhcmNEYXNoTGVuZ3RoJywgJ2FyY0Rhc2hHYXAnLCAnYXJjRGFzaEluaXRpYWxHYXAnLCAnYXJjRGFzaEFuaW1hdGVUaW1lJywgJ2FyY3NUcmFuc2l0aW9uRHVyYXRpb24nLCAncG9seWdvbnNEYXRhJywgJ3BvbHlnb25HZW9Kc29uR2VvbWV0cnknLCAncG9seWdvbkNhcENvbG9yJywgJ3BvbHlnb25DYXBNYXRlcmlhbCcsICdwb2x5Z29uU2lkZUNvbG9yJywgJ3BvbHlnb25TaWRlTWF0ZXJpYWwnLCAncG9seWdvblN0cm9rZUNvbG9yJywgJ3BvbHlnb25BbHRpdHVkZScsICdwb2x5Z29uQ2FwQ3VydmF0dXJlUmVzb2x1dGlvbicsICdwb2x5Z29uc1RyYW5zaXRpb25EdXJhdGlvbicsICdwYXRoc0RhdGEnLCAncGF0aFBvaW50cycsICdwYXRoUG9pbnRMYXQnLCAncGF0aFBvaW50TG5nJywgJ3BhdGhQb2ludEFsdCcsICdwYXRoUmVzb2x1dGlvbicsICdwYXRoQ29sb3InLCAncGF0aFN0cm9rZScsICdwYXRoRGFzaExlbmd0aCcsICdwYXRoRGFzaEdhcCcsICdwYXRoRGFzaEluaXRpYWxHYXAnLCAncGF0aERhc2hBbmltYXRlVGltZScsICdwYXRoVHJhbnNpdGlvbkR1cmF0aW9uJywgJ2hlYXRtYXBzRGF0YScsICdoZWF0bWFwUG9pbnRzJywgJ2hlYXRtYXBQb2ludExhdCcsICdoZWF0bWFwUG9pbnRMbmcnLCAnaGVhdG1hcFBvaW50V2VpZ2h0JywgJ2hlYXRtYXBCYW5kd2lkdGgnLCAnaGVhdG1hcENvbG9yRm4nLCAnaGVhdG1hcENvbG9yU2F0dXJhdGlvbicsICdoZWF0bWFwQmFzZUFsdGl0dWRlJywgJ2hlYXRtYXBUb3BBbHRpdHVkZScsICdoZWF0bWFwc1RyYW5zaXRpb25EdXJhdGlvbicsICdoZXhCaW5Qb2ludHNEYXRhJywgJ2hleEJpblBvaW50TGF0JywgJ2hleEJpblBvaW50TG5nJywgJ2hleEJpblBvaW50V2VpZ2h0JywgJ2hleEJpblJlc29sdXRpb24nLCAnaGV4TWFyZ2luJywgJ2hleFRvcEN1cnZhdHVyZVJlc29sdXRpb24nLCAnaGV4VG9wQ29sb3InLCAnaGV4U2lkZUNvbG9yJywgJ2hleEFsdGl0dWRlJywgJ2hleEJpbk1lcmdlJywgJ2hleFRyYW5zaXRpb25EdXJhdGlvbicsICdoZXhQb2x5Z29uc0RhdGEnLCAnaGV4UG9seWdvbkdlb0pzb25HZW9tZXRyeScsICdoZXhQb2x5Z29uQ29sb3InLCAnaGV4UG9seWdvbkFsdGl0dWRlJywgJ2hleFBvbHlnb25SZXNvbHV0aW9uJywgJ2hleFBvbHlnb25NYXJnaW4nLCAnaGV4UG9seWdvblVzZURvdHMnLCAnaGV4UG9seWdvbkN1cnZhdHVyZVJlc29sdXRpb24nLCAnaGV4UG9seWdvbkRvdFJlc29sdXRpb24nLCAnaGV4UG9seWdvbnNUcmFuc2l0aW9uRHVyYXRpb24nLCAndGlsZXNEYXRhJywgJ3RpbGVMYXQnLCAndGlsZUxuZycsICd0aWxlQWx0aXR1ZGUnLCAndGlsZVdpZHRoJywgJ3RpbGVIZWlnaHQnLCAndGlsZVVzZUdsb2JlUHJvamVjdGlvbicsICd0aWxlTWF0ZXJpYWwnLCAndGlsZUN1cnZhdHVyZVJlc29sdXRpb24nLCAndGlsZXNUcmFuc2l0aW9uRHVyYXRpb24nLCAncGFydGljbGVzRGF0YScsICdwYXJ0aWNsZXNMaXN0JywgJ3BhcnRpY2xlTGF0JywgJ3BhcnRpY2xlTG5nJywgJ3BhcnRpY2xlQWx0aXR1ZGUnLCAncGFydGljbGVzU2l6ZScsICdwYXJ0aWNsZXNTaXplQXR0ZW51YXRpb24nLCAncGFydGljbGVzQ29sb3InLCAncGFydGljbGVzVGV4dHVyZScsICdyaW5nc0RhdGEnLCAncmluZ0xhdCcsICdyaW5nTG5nJywgJ3JpbmdBbHRpdHVkZScsICdyaW5nQ29sb3InLCAncmluZ1Jlc29sdXRpb24nLCAncmluZ01heFJhZGl1cycsICdyaW5nUHJvcGFnYXRpb25TcGVlZCcsICdyaW5nUmVwZWF0UGVyaW9kJywgJ2xhYmVsc0RhdGEnLCAnbGFiZWxMYXQnLCAnbGFiZWxMbmcnLCAnbGFiZWxBbHRpdHVkZScsICdsYWJlbFJvdGF0aW9uJywgJ2xhYmVsVGV4dCcsICdsYWJlbFNpemUnLCAnbGFiZWxUeXBlRmFjZScsICdsYWJlbENvbG9yJywgJ2xhYmVsUmVzb2x1dGlvbicsICdsYWJlbEluY2x1ZGVEb3QnLCAnbGFiZWxEb3RSYWRpdXMnLCAnbGFiZWxEb3RPcmllbnRhdGlvbicsICdsYWJlbHNUcmFuc2l0aW9uRHVyYXRpb24nLCAnaHRtbEVsZW1lbnRzRGF0YScsICdodG1sTGF0JywgJ2h0bWxMbmcnLCAnaHRtbEFsdGl0dWRlJywgJ2h0bWxFbGVtZW50JywgJ2h0bWxFbGVtZW50VmlzaWJpbGl0eU1vZGlmaWVyJywgJ2h0bWxUcmFuc2l0aW9uRHVyYXRpb24nLCAnb2JqZWN0c0RhdGEnLCAnb2JqZWN0TGF0JywgJ29iamVjdExuZycsICdvYmplY3RBbHRpdHVkZScsICdvYmplY3RSb3RhdGlvbicsICdvYmplY3RGYWNlc1N1cmZhY2UnLCAnb2JqZWN0VGhyZWVPYmplY3QnLCAnY3VzdG9tTGF5ZXJEYXRhJywgJ2N1c3RvbVRocmVlT2JqZWN0JywgJ2N1c3RvbVRocmVlT2JqZWN0VXBkYXRlJ10ubWFwKGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sIHAsIGJpbmRHbG9iZS5saW5rUHJvcChwKSk7XG59KSkpO1xudmFyIGxpbmtlZEdsb2JlTWV0aG9kcyA9IE9iamVjdC5hc3NpZ24uYXBwbHkoT2JqZWN0LCBfdG9Db25zdW1hYmxlQXJyYXkoWydnbG9iZU1hdGVyaWFsJywgJ2dldEdsb2JlUmFkaXVzJywgJ2dldENvb3JkcycsICd0b0dlb0Nvb3JkcyddLm1hcChmdW5jdGlvbiAocCkge1xuICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBwLCBiaW5kR2xvYmUubGlua01ldGhvZChwKSk7XG59KSkpO1xuXG4vLyBFeHBvc2UgY29uZmlnIGZyb20gcmVuZGVyT2Jqc1xudmFyIGJpbmRSZW5kZXJPYmpzID0gbGlua0thcHN1bGUoJ3JlbmRlck9ianMnLCBUaHJlZVJlbmRlck9iamVjdHMpO1xudmFyIGxpbmtlZFJlbmRlck9ianNQcm9wcyA9IE9iamVjdC5hc3NpZ24uYXBwbHkoT2JqZWN0LCBfdG9Db25zdW1hYmxlQXJyYXkoWyd3aWR0aCcsICdoZWlnaHQnLCAnYmFja2dyb3VuZENvbG9yJywgJ2JhY2tncm91bmRJbWFnZVVybCcsICdlbmFibGVQb2ludGVySW50ZXJhY3Rpb24nXS5tYXAoZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcCwgYmluZFJlbmRlck9ianMubGlua1Byb3AocCkpO1xufSkpKTtcbnZhciBsaW5rZWRSZW5kZXJPYmpzTWV0aG9kcyA9IE9iamVjdC5hc3NpZ24uYXBwbHkoT2JqZWN0LCBfdG9Db25zdW1hYmxlQXJyYXkoWydsaWdodHMnLCAncG9zdFByb2Nlc3NpbmdDb21wb3NlciddLm1hcChmdW5jdGlvbiAocCkge1xuICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBwLCBiaW5kUmVuZGVyT2Jqcy5saW5rTWV0aG9kKHApKTtcbn0pKSk7XG5cbi8vXG5cbnZhciBnbG9iZSA9IEthcHN1bGUoe1xuICBwcm9wczogX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe1xuICAgIG9uWm9vbToge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uR2xvYmVDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uR2xvYmVSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgcG9pbnRMYWJlbDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICduYW1lJyxcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBvaW50Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBvaW50UmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUG9pbnRIb3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIGFyY0xhYmVsOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25hbWUnLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uQXJjQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkFyY1JpZ2h0Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkFyY0hvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgcG9seWdvbkxhYmVsOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25hbWUnLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUG9seWdvbkNsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25Qb2x5Z29uUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUG9seWdvbkhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgcGF0aExhYmVsOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25hbWUnLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUGF0aENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25QYXRoUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUGF0aEhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZWF0bWFwQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkhlYXRtYXBSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZWF0bWFwSG92ZXI6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBoZXhMYWJlbDoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uSGV4Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkhleFJpZ2h0Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkhleEhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgaGV4UG9seWdvbkxhYmVsOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZXhQb2x5Z29uQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkhleFBvbHlnb25SaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZXhQb2x5Z29uSG92ZXI6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICB0aWxlTGFiZWw6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnbmFtZScsXG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25UaWxlQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblRpbGVSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25UaWxlSG92ZXI6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBwYXJ0aWNsZUxhYmVsOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25hbWUnLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUGFydGljbGVDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUGFydGljbGVSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25QYXJ0aWNsZUhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgbGFiZWxMYWJlbDoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uTGFiZWxDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uTGFiZWxSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25MYWJlbEhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb2JqZWN0TGFiZWw6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnbmFtZScsXG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25PYmplY3RDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uT2JqZWN0UmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uT2JqZWN0SG92ZXI6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBjdXN0b21MYXllckxhYmVsOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25hbWUnLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uQ3VzdG9tTGF5ZXJDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uQ3VzdG9tTGF5ZXJSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25DdXN0b21MYXllckhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgcG9pbnRlckV2ZW50c0ZpbHRlcjoge1xuICAgICAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgbGluZUhvdmVyUHJlY2lzaW9uOiB7XG4gICAgICBcImRlZmF1bHRcIjogMC4yLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2UsXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsLCBzdGF0ZSkge1xuICAgICAgICBzdGF0ZS5yZW5kZXJPYmpzLmxpbmVIb3ZlclByZWNpc2lvbih2YWwpO1xuICAgICAgICBzdGF0ZS5yZW5kZXJPYmpzLnBvaW50c0hvdmVyUHJlY2lzaW9uKHZhbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnbG9iZU9mZnNldDoge1xuICAgICAgXCJkZWZhdWx0XCI6IFswLCAwXSxcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG8sIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KG8pICYmIG8ubGVuZ3RoID09PSAyICYmIHN0YXRlLnJlbmRlck9ianMudmlld09mZnNldChvLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiAtdjtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgbGlua2VkR2xvYmVQcm9wcyksIGxpbmtlZFJlbmRlck9ianNQcm9wcyksXG4gIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHtcbiAgICBwYXVzZUFuaW1hdGlvbjogZnVuY3Rpb24gcGF1c2VBbmltYXRpb24oc3RhdGUpIHtcbiAgICAgIHZhciBfc3RhdGUkZ2xvYmU7XG4gICAgICBpZiAoc3RhdGUuYW5pbWF0aW9uRnJhbWVSZXF1ZXN0SWQgIT09IG51bGwpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoc3RhdGUuYW5pbWF0aW9uRnJhbWVSZXF1ZXN0SWQpO1xuICAgICAgICBzdGF0ZS5hbmltYXRpb25GcmFtZVJlcXVlc3RJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICAoX3N0YXRlJGdsb2JlID0gc3RhdGUuZ2xvYmUpID09PSBudWxsIHx8IF9zdGF0ZSRnbG9iZSA9PT0gdm9pZCAwIHx8IF9zdGF0ZSRnbG9iZS5wYXVzZUFuaW1hdGlvbigpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICByZXN1bWVBbmltYXRpb246IGZ1bmN0aW9uIHJlc3VtZUFuaW1hdGlvbihzdGF0ZSkge1xuICAgICAgdmFyIF9zdGF0ZSRnbG9iZTI7XG4gICAgICBpZiAoc3RhdGUuYW5pbWF0aW9uRnJhbWVSZXF1ZXN0SWQgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uQ3ljbGUoKTtcbiAgICAgIH1cbiAgICAgIChfc3RhdGUkZ2xvYmUyID0gc3RhdGUuZ2xvYmUpID09PSBudWxsIHx8IF9zdGF0ZSRnbG9iZTIgPT09IHZvaWQgMCB8fCBfc3RhdGUkZ2xvYmUyLnJlc3VtZUFuaW1hdGlvbigpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBfYW5pbWF0aW9uQ3ljbGU6IGZ1bmN0aW9uIF9hbmltYXRpb25DeWNsZShzdGF0ZSkge1xuICAgICAgLy8gRnJhbWUgY3ljbGVcbiAgICAgIHN0YXRlLnJlbmRlck9ianMudGljaygpO1xuICAgICAgc3RhdGUudHdlZW5Hcm91cC51cGRhdGUoKTtcbiAgICAgIHN0YXRlLmFuaW1hdGlvbkZyYW1lUmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGlvbkN5Y2xlKTtcbiAgICB9LFxuICAgIHBvaW50T2ZWaWV3OiBmdW5jdGlvbiBwb2ludE9mVmlldyhzdGF0ZSkge1xuICAgICAgdmFyIGdlb0Nvb3JkcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgICAgdmFyIGN1ckdlb0Nvb3JkcyA9IGdldEdlb0Nvb3JkcygpO1xuXG4gICAgICAvLyBHZXR0ZXJcbiAgICAgIGlmIChnZW9Db29yZHMubGF0ID09PSB1bmRlZmluZWQgJiYgZ2VvQ29vcmRzLmxuZyA9PT0gdW5kZWZpbmVkICYmIGdlb0Nvb3Jkcy5hbHRpdHVkZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjdXJHZW9Db29yZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTZXR0ZXJcbiAgICAgICAgdmFyIGZpbmFsR2VvQ29vcmRzID0gT2JqZWN0LmFzc2lnbih7fSwgY3VyR2VvQ29vcmRzLCBnZW9Db29yZHMpO1xuICAgICAgICBbJ2xhdCcsICdsbmcnLCAnYWx0aXR1ZGUnXS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbmFsR2VvQ29vcmRzW3BdID0gK2ZpbmFsR2VvQ29vcmRzW3BdO1xuICAgICAgICB9KTsgLy8gY29lcmNlIGNvb3JkcyB0byBudW1iZXJcblxuICAgICAgICBpZiAoIXRyYW5zaXRpb25EdXJhdGlvbikge1xuICAgICAgICAgIC8vIG5vIGFuaW1hdGlvblxuICAgICAgICAgIHNldENhbWVyYVBvcyhmaW5hbEdlb0Nvb3Jkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQXZvaWQgcm90YXRpbmcgbW9yZSB0aGFuIDE4MGRlZyBsb25naXR1ZGVcbiAgICAgICAgICB3aGlsZSAoY3VyR2VvQ29vcmRzLmxuZyAtIGZpbmFsR2VvQ29vcmRzLmxuZyA+IDE4MCkgY3VyR2VvQ29vcmRzLmxuZyAtPSAzNjA7XG4gICAgICAgICAgd2hpbGUgKGN1ckdlb0Nvb3Jkcy5sbmcgLSBmaW5hbEdlb0Nvb3Jkcy5sbmcgPCAtMTgwKSBjdXJHZW9Db29yZHMubG5nICs9IDM2MDtcbiAgICAgICAgICBzdGF0ZS50d2Vlbkdyb3VwLmFkZChuZXcgVHdlZW4oY3VyR2VvQ29vcmRzKS50byhmaW5hbEdlb0Nvb3JkcywgdHJhbnNpdGlvbkR1cmF0aW9uKS5lYXNpbmcoRWFzaW5nLkN1YmljLkluT3V0KS5vblVwZGF0ZShzZXRDYW1lcmFQb3MpLnN0YXJ0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvL1xuXG4gICAgICBmdW5jdGlvbiBnZXRHZW9Db29yZHMoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5nbG9iZS50b0dlb0Nvb3JkcyhzdGF0ZS5yZW5kZXJPYmpzLmNhbWVyYVBvc2l0aW9uKCkpO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gc2V0Q2FtZXJhUG9zKF9yZWY1KSB7XG4gICAgICAgIHZhciBsYXQgPSBfcmVmNS5sYXQsXG4gICAgICAgICAgbG5nID0gX3JlZjUubG5nLFxuICAgICAgICAgIGFsdGl0dWRlID0gX3JlZjUuYWx0aXR1ZGU7XG4gICAgICAgIHN0YXRlLnJlbmRlck9ianMuY2FtZXJhUG9zaXRpb24oc3RhdGUuZ2xvYmUuZ2V0Q29vcmRzKGxhdCwgbG5nLCBhbHRpdHVkZSkpO1xuICAgICAgICBzdGF0ZS5nbG9iZS5zZXRQb2ludE9mVmlldyhzdGF0ZS5yZW5kZXJPYmpzLmNhbWVyYSgpKTsgLy8gcmVwb3J0IHBvc2l0aW9uIHRvIGdsb2JlXG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRTY3JlZW5Db29yZHM6IGZ1bmN0aW9uIGdldFNjcmVlbkNvb3JkcyhzdGF0ZSkge1xuICAgICAgdmFyIF9zdGF0ZSRnbG9iZTM7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZ2VvQ29vcmRzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgZ2VvQ29vcmRzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIHZhciBjYXJ0ZXNpYW5Db29yZHMgPSAoX3N0YXRlJGdsb2JlMyA9IHN0YXRlLmdsb2JlKS5nZXRDb29yZHMuYXBwbHkoX3N0YXRlJGdsb2JlMywgZ2VvQ29vcmRzKTtcbiAgICAgIHJldHVybiBzdGF0ZS5yZW5kZXJPYmpzLmdldFNjcmVlbkNvb3JkcyhjYXJ0ZXNpYW5Db29yZHMueCwgY2FydGVzaWFuQ29vcmRzLnksIGNhcnRlc2lhbkNvb3Jkcy56KTtcbiAgICB9LFxuICAgIHRvR2xvYmVDb29yZHM6IGZ1bmN0aW9uIHRvR2xvYmVDb29yZHMoc3RhdGUsIHgsIHkpIHtcbiAgICAgIHZhciBnbG9iZUludGVyc2VjdHMgPSBzdGF0ZS5yZW5kZXJPYmpzLmludGVyc2VjdGluZ09iamVjdHMoeCwgeSkuZmluZChmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4gKGQub2JqZWN0Ll9fZ2xvYmVPYmpUeXBlIHx8IGQub2JqZWN0LnBhcmVudC5fX2dsb2JlT2JqVHlwZSkgPT09ICdnbG9iZSc7XG4gICAgICB9KTtcbiAgICAgIGlmICghZ2xvYmVJbnRlcnNlY3RzKSByZXR1cm4gbnVsbDsgLy8gY29vcmRzIG91dHNpZGUgZ2xvYmVcblxuICAgICAgdmFyIF9zdGF0ZSRnbG9iZSR0b0dlb0NvbyA9IHN0YXRlLmdsb2JlLnRvR2VvQ29vcmRzKGdsb2JlSW50ZXJzZWN0cy5wb2ludCksXG4gICAgICAgIGxhdCA9IF9zdGF0ZSRnbG9iZSR0b0dlb0Nvby5sYXQsXG4gICAgICAgIGxuZyA9IF9zdGF0ZSRnbG9iZSR0b0dlb0Nvby5sbmc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXQ6IGxhdCxcbiAgICAgICAgbG5nOiBsbmdcbiAgICAgIH07XG4gICAgfSxcbiAgICBzY2VuZTogZnVuY3Rpb24gc2NlbmUoc3RhdGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5yZW5kZXJPYmpzLnNjZW5lKCk7XG4gICAgfSxcbiAgICAvLyBFeHBvc2Ugc2NlbmVcbiAgICBjYW1lcmE6IGZ1bmN0aW9uIGNhbWVyYShzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLnJlbmRlck9ianMuY2FtZXJhKCk7XG4gICAgfSxcbiAgICAvLyBFeHBvc2UgY2FtZXJhXG4gICAgcmVuZGVyZXI6IGZ1bmN0aW9uIHJlbmRlcmVyKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUucmVuZGVyT2Jqcy5yZW5kZXJlcigpO1xuICAgIH0sXG4gICAgLy8gRXhwb3NlIHJlbmRlcmVyXG4gICAgY29udHJvbHM6IGZ1bmN0aW9uIGNvbnRyb2xzKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUucmVuZGVyT2Jqcy5jb250cm9scygpO1xuICAgIH0sXG4gICAgLy8gRXhwb3NlIGNvbnRyb2xzXG4gICAgX2Rlc3RydWN0b3I6IGZ1bmN0aW9uIF9kZXN0cnVjdG9yKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5nbG9iZS5fZGVzdHJ1Y3RvcigpO1xuICAgICAgdGhpcy5wYXVzZUFuaW1hdGlvbigpO1xuICAgICAgdGhpcy5wb2ludHNEYXRhKFtdKTtcbiAgICAgIHRoaXMuYXJjc0RhdGEoW10pO1xuICAgICAgdGhpcy5wb2x5Z29uc0RhdGEoW10pO1xuICAgICAgdGhpcy5wYXRoc0RhdGEoW10pO1xuICAgICAgdGhpcy5oZWF0bWFwc0RhdGEoW10pO1xuICAgICAgdGhpcy5oZXhCaW5Qb2ludHNEYXRhKFtdKTtcbiAgICAgIHRoaXMuaGV4UG9seWdvbnNEYXRhKFtdKTtcbiAgICAgIHRoaXMudGlsZXNEYXRhKFtdKTtcbiAgICAgIHRoaXMucGFydGljbGVzRGF0YShbXSk7XG4gICAgICB0aGlzLmxhYmVsc0RhdGEoW10pO1xuICAgICAgdGhpcy5odG1sRWxlbWVudHNEYXRhKFtdKTtcbiAgICAgIHRoaXMub2JqZWN0c0RhdGEoW10pO1xuICAgICAgdGhpcy5jdXN0b21MYXllckRhdGEoW10pO1xuICAgIH1cbiAgfSwgbGlua2VkR2xvYmVNZXRob2RzKSwgbGlua2VkUmVuZGVyT2Jqc01ldGhvZHMpLFxuICBzdGF0ZUluaXQ6IGZ1bmN0aW9uIHN0YXRlSW5pdChfcmVmNikge1xuICAgIHZhciByZW5kZXJlckNvbmZpZyA9IF9yZWY2LnJlbmRlcmVyQ29uZmlnLFxuICAgICAgX3JlZjYkd2FpdEZvckdsb2JlUmVhID0gX3JlZjYud2FpdEZvckdsb2JlUmVhZHksXG4gICAgICB3YWl0Rm9yR2xvYmVSZWFkeSA9IF9yZWY2JHdhaXRGb3JHbG9iZVJlYSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWY2JHdhaXRGb3JHbG9iZVJlYSxcbiAgICAgIGdsb2JlSW5pdENvbmZpZyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmNiwgX2V4Y2x1ZGVkKTtcbiAgICB2YXIgZ2xvYmUgPSBuZXcgVGhyZWVHbG9iZShfb2JqZWN0U3ByZWFkMih7XG4gICAgICB3YWl0Rm9yR2xvYmVSZWFkeTogd2FpdEZvckdsb2JlUmVhZHlcbiAgICB9LCBnbG9iZUluaXRDb25maWcpKTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2xvYmU6IGdsb2JlLFxuICAgICAgcmVuZGVyT2JqczogVGhyZWVSZW5kZXJPYmplY3RzKHtcbiAgICAgICAgY29udHJvbFR5cGU6ICdvcmJpdCcsXG4gICAgICAgIHJlbmRlcmVyQ29uZmlnOiByZW5kZXJlckNvbmZpZyxcbiAgICAgICAgd2FpdEZvckxvYWRDb21wbGV0ZTogd2FpdEZvckdsb2JlUmVhZHksXG4gICAgICAgIGV4dHJhUmVuZGVyZXJzOiBbbmV3IFRIUkVFLkNTUzJEUmVuZGVyZXIoKV0gLy8gVXNlZCBpbiBIVE1MIGVsZW1lbnRzIGxheWVyXG4gICAgICB9KS5za3lSYWRpdXMoZ2xvYmUuZ2V0R2xvYmVSYWRpdXMoKSAqIDUwMCkuc2hvd05hdkluZm8oZmFsc2UpLm9iamVjdHMoW2dsb2JlXSkgLy8gUG9wdWxhdGUgc2NlbmVcbiAgICAgIC5saWdodHMoW25ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhjY2NjY2MsIE1hdGguUEkpLCBuZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMC42ICogTWF0aC5QSSldKSxcbiAgICAgIHR3ZWVuR3JvdXA6IG5ldyBHcm91cCgpXG4gICAgfTtcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24gaW5pdChkb21Ob2RlLCBzdGF0ZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLy8gV2lwZSBET01cbiAgICBkb21Ob2RlLmlubmVySFRNTCA9ICcnO1xuXG4gICAgLy8gQWRkIHJlbGF0aXZlIGNvbnRhaW5lclxuICAgIGRvbU5vZGUuYXBwZW5kQ2hpbGQoc3RhdGUuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgIHN0YXRlLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cbiAgICAvLyBBZGQgcmVuZGVyT2Jqc1xuICAgIHZhciByb0RvbU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzdGF0ZS5jb250YWluZXIuYXBwZW5kQ2hpbGQocm9Eb21Ob2RlKTtcbiAgICBzdGF0ZS5yZW5kZXJPYmpzKHJvRG9tTm9kZSk7XG5cbiAgICAvLyBpbmplY3QgcmVuZGVyZXIgc2l6ZSBvbiB0aHJlZS1nbG9iZVxuICAgIHN0YXRlLmdsb2JlLnJlbmRlcmVyU2l6ZShzdGF0ZS5yZW5kZXJPYmpzLnJlbmRlcmVyKCkuZ2V0U2l6ZShuZXcgVEhSRUUuVmVjdG9yMigpKSk7XG5cbiAgICAvLyBzZXQgaW5pdGlhbCBkaXN0YW5jZVxuICAgIHRoaXMucG9pbnRPZlZpZXcoe1xuICAgICAgYWx0aXR1ZGU6IDIuNVxuICAgIH0pO1xuXG4gICAgLy8gY2FsaWJyYXRlIG9yYml0IGNvbnRyb2xzXG4gICAgdmFyIGdsb2JlUiA9IHN0YXRlLmdsb2JlLmdldEdsb2JlUmFkaXVzKCk7XG4gICAgdmFyIGNvbnRyb2xzID0gc3RhdGUucmVuZGVyT2Jqcy5jb250cm9scygpO1xuICAgIHN0YXRlLnJlbmRlck9ianMuY2FtZXJhKCkubmVhciA9IDAuMDU7IC8vIGxlc3Mgd2lsbCBzdGFydCBjYXVzaW5nIGRlcHRoIHotZmlnaHRpbmcgaXNzdWVzXG4gICAgY29udHJvbHMubWluRGlzdGFuY2UgPSBnbG9iZVIgKyBNYXRoLm1heCgwLjAwMSwgc3RhdGUucmVuZGVyT2Jqcy5jYW1lcmEoKS5uZWFyICogMS4xKTsgLy8ganVzdCBhYm92ZSB0aGUgc3VyZmFjZSwgYXMgbXVjaCBhcyBjYW1lcmEgbmVhciBwbGFuZSBwZXJtaXRzXG4gICAgY29udHJvbHMubWF4RGlzdGFuY2UgPSBnbG9iZVIgKiAxMDA7XG4gICAgY29udHJvbHMuZW5hYmxlUGFuID0gZmFsc2U7XG4gICAgY29udHJvbHMuZW5hYmxlRGFtcGluZyA9IHRydWU7XG4gICAgY29udHJvbHMuZGFtcGluZ0ZhY3RvciA9IDAuMTtcbiAgICBjb250cm9scy5yb3RhdGVTcGVlZCA9IDAuMztcbiAgICBjb250cm9scy56b29tU3BlZWQgPSAwLjM7XG4gICAgY29udHJvbHMuem9vbVRvQ3Vyc29yID0gdHJ1ZTtcbiAgICBjb250cm9scy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb250cm9scy50YXJnZXQuc2V0U2NhbGFyKDApOyAvLyBLZWVwIG9yYml0IHRhcmdldCBvbiBjZW50ZXJcblxuICAgICAgLy8gYWRqdXN0IGNvbnRyb2xzIHNwZWVkIGJhc2VkIG9uIGFsdGl0dWRlXG4gICAgICB2YXIgcG92ID0gX3RoaXMucG9pbnRPZlZpZXcoKTtcbiAgICAgIGNvbnRyb2xzLnJvdGF0ZVNwZWVkID0gcG92LmFsdGl0dWRlICogMC4zO1xuICAgICAgY29udHJvbHMuem9vbVNwZWVkID0gTWF0aC5zcXJ0KHBvdi5hbHRpdHVkZSkgKiAwLjU7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aHJlZS1nbG9iZSBwb3Ygd2hlbiBjYW1lcmEgbW92ZXMsIGZvciBwcm9wZXIgaGlkaW5nIG9mIGVsZW1lbnRzXG4gICAgICBzdGF0ZS5nbG9iZS5zZXRQb2ludE9mVmlldyhzdGF0ZS5yZW5kZXJPYmpzLmNhbWVyYSgpKTtcbiAgICAgIHN0YXRlLm9uWm9vbSAmJiBzdGF0ZS5vblpvb20ocG92KTtcbiAgICB9KTtcblxuICAgIC8vIGNvbmZpZyByZW5kZXJPYmpzXG4gICAgdmFyIGdldEdsb2JlT2JqID0gZnVuY3Rpb24gZ2V0R2xvYmVPYmoob2JqZWN0KSB7XG4gICAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgICAgLy8gcmVjdXJzZSB1cCBvYmplY3QgY2hhaW4gdW50aWwgZmluZGluZyB0aGUgZ2xvYmUgb2JqZWN0XG4gICAgICB3aGlsZSAob2JqICYmICFvYmouaGFzT3duUHJvcGVydHkoJ19fZ2xvYmVPYmpUeXBlJykpIHtcbiAgICAgICAgb2JqID0gb2JqLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB2YXIgZGF0YUFjY2Vzc29ycyA9IHtcbiAgICAgIHBvaW50OiBmdW5jdGlvbiBwb2ludChkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSxcbiAgICAgIGFyYzogZnVuY3Rpb24gYXJjKGQpIHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9LFxuICAgICAgcG9seWdvbjogZnVuY3Rpb24gcG9seWdvbihkKSB7XG4gICAgICAgIHJldHVybiBkLmRhdGE7XG4gICAgICB9LFxuICAgICAgcGF0aDogZnVuY3Rpb24gcGF0aChkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSxcbiAgICAgIGhlYXRtYXA6IGZ1bmN0aW9uIGhlYXRtYXAoZCkge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0sXG4gICAgICBoZXhiaW46IGZ1bmN0aW9uIGhleGJpbihkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSxcbiAgICAgIGhleFBvbHlnb246IGZ1bmN0aW9uIGhleFBvbHlnb24oZCkge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0sXG4gICAgICB0aWxlOiBmdW5jdGlvbiB0aWxlKGQpIHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9LFxuICAgICAgcGFydGljbGVzOiBmdW5jdGlvbiBwYXJ0aWNsZXMoZCwgaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAhaW50ZXJzZWN0aW9uIHx8ICFpbnRlcnNlY3Rpb24uaGFzT3duUHJvcGVydHkoJ2luZGV4JykgfHwgZC5sZW5ndGggPD0gaW50ZXJzZWN0aW9uLmluZGV4ID8gZCA6IGRbaW50ZXJzZWN0aW9uLmluZGV4XTtcbiAgICAgIH0sXG4gICAgICBsYWJlbDogZnVuY3Rpb24gbGFiZWwoZCkge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0sXG4gICAgICBvYmplY3Q6IGZ1bmN0aW9uIG9iamVjdChkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSxcbiAgICAgIGN1c3RvbTogZnVuY3Rpb24gY3VzdG9tKGQpIHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9XG4gICAgfTtcbiAgICBUSFJFRS5SRVZJU0lPTiA8IDE1NSAmJiAoc3RhdGUucmVuZGVyT2Jqcy5yZW5kZXJlcigpLnVzZUxlZ2FjeUxpZ2h0cyA9IGZhbHNlKTsgLy8gZm9yY2UgYmVoYXZpb3Igb2YgdGhyZWUgPCAxNTVcbiAgICBzdGF0ZS5yZW5kZXJPYmpzLmhvdmVyRmlsdGVyKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHZhciBvID0gZ2V0R2xvYmVPYmoob2JqKTtcblxuICAgICAgLy8gaWdub3JlIG5vbi1nbG9iZSBvYmplY3RzXG4gICAgICBpZiAoIW8pIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciB0eXBlID0gby5fX2dsb2JlT2JqVHlwZTtcbiAgICAgIGlmICh0eXBlICE9PSAnZ2xvYmUnICYmICFkYXRhQWNjZXNzb3JzLmhhc093blByb3BlcnR5KHR5cGUpKSByZXR1cm4gZmFsc2U7IC8vIElnbm9yZSBvYmogdHlwZXMgd2l0aCBubyBkYXRhXG4gICAgICB2YXIgZCA9IGRhdGFBY2Nlc3NvcnMuaGFzT3duUHJvcGVydHkodHlwZSkgJiYgby5fX2RhdGEgPyBkYXRhQWNjZXNzb3JzW3R5cGVdKG8uX19kYXRhKSA6IG51bGw7XG5cbiAgICAgIC8vIElnbm9yZSBtZXJnZWQgZ2VvbWV0cnkgb2JqZWN0cyB0aGF0IGRvbid0IGhhdmUgaW50ZXJhY3Rpb24gcGVyIHBvaW50XG4gICAgICBpZiAoWydwb2ludHMnLCAnaGV4QmluUG9pbnRzJ10uc29tZShmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gdCA9PT0gdHlwZTtcbiAgICAgIH0pICYmIEFycmF5LmlzQXJyYXkoZCkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBzdGF0ZS5wb2ludGVyRXZlbnRzRmlsdGVyKG8sIGQpO1xuICAgIH0pLnRvb2x0aXBDb250ZW50KGZ1bmN0aW9uIChvYmosIGludGVyc2VjdGlvbikge1xuICAgICAgdmFyIG9iakFjY2Vzc29ycyA9IHtcbiAgICAgICAgcG9pbnQ6IHN0YXRlLnBvaW50TGFiZWwsXG4gICAgICAgIGFyYzogc3RhdGUuYXJjTGFiZWwsXG4gICAgICAgIHBvbHlnb246IHN0YXRlLnBvbHlnb25MYWJlbCxcbiAgICAgICAgcGF0aDogc3RhdGUucGF0aExhYmVsLFxuICAgICAgICBoZXhiaW46IHN0YXRlLmhleExhYmVsLFxuICAgICAgICBoZXhQb2x5Z29uOiBzdGF0ZS5oZXhQb2x5Z29uTGFiZWwsXG4gICAgICAgIHRpbGU6IHN0YXRlLnRpbGVMYWJlbCxcbiAgICAgICAgcGFydGljbGVzOiBzdGF0ZS5wYXJ0aWNsZUxhYmVsLFxuICAgICAgICBsYWJlbDogc3RhdGUubGFiZWxMYWJlbCxcbiAgICAgICAgb2JqZWN0OiBzdGF0ZS5vYmplY3RMYWJlbCxcbiAgICAgICAgY3VzdG9tOiBzdGF0ZS5jdXN0b21MYXllckxhYmVsXG4gICAgICB9O1xuICAgICAgdmFyIGdsb2JlT2JqID0gZ2V0R2xvYmVPYmoob2JqKTtcbiAgICAgIHZhciBvYmpUeXBlID0gZ2xvYmVPYmogJiYgZ2xvYmVPYmouX19nbG9iZU9ialR5cGU7XG4gICAgICByZXR1cm4gZ2xvYmVPYmogJiYgb2JqVHlwZSAmJiBvYmpBY2Nlc3NvcnMuaGFzT3duUHJvcGVydHkob2JqVHlwZSkgJiYgZGF0YUFjY2Vzc29ycy5oYXNPd25Qcm9wZXJ0eShvYmpUeXBlKSA/IGFjY2Vzc29yRm4ob2JqQWNjZXNzb3JzW29ialR5cGVdKShkYXRhQWNjZXNzb3JzW29ialR5cGVdKGdsb2JlT2JqLl9fZGF0YSwgaW50ZXJzZWN0aW9uKSkgfHwgJycgOiAnJztcbiAgICB9KS5vbkhvdmVyKGZ1bmN0aW9uIChvYmosIF8sIGludGVyc2VjdGlvbikge1xuICAgICAgLy8gVXBkYXRlIHRvb2x0aXAgYW5kIHRyaWdnZXIgb25Ib3ZlciBldmVudHNcbiAgICAgIHZhciBob3Zlck9iakZucyA9IHtcbiAgICAgICAgcG9pbnQ6IHN0YXRlLm9uUG9pbnRIb3ZlcixcbiAgICAgICAgYXJjOiBzdGF0ZS5vbkFyY0hvdmVyLFxuICAgICAgICBwb2x5Z29uOiBzdGF0ZS5vblBvbHlnb25Ib3ZlcixcbiAgICAgICAgcGF0aDogc3RhdGUub25QYXRoSG92ZXIsXG4gICAgICAgIGhlYXRtYXA6IHN0YXRlLm9uSGVhdG1hcEhvdmVyLFxuICAgICAgICBoZXhiaW46IHN0YXRlLm9uSGV4SG92ZXIsXG4gICAgICAgIGhleFBvbHlnb246IHN0YXRlLm9uSGV4UG9seWdvbkhvdmVyLFxuICAgICAgICB0aWxlOiBzdGF0ZS5vblRpbGVIb3ZlcixcbiAgICAgICAgcGFydGljbGVzOiBzdGF0ZS5vblBhcnRpY2xlSG92ZXIsXG4gICAgICAgIGxhYmVsOiBzdGF0ZS5vbkxhYmVsSG92ZXIsXG4gICAgICAgIG9iamVjdDogc3RhdGUub25PYmplY3RIb3ZlcixcbiAgICAgICAgY3VzdG9tOiBzdGF0ZS5vbkN1c3RvbUxheWVySG92ZXJcbiAgICAgIH07XG4gICAgICB2YXIgY2xpY2tPYmpGbnMgPSB7XG4gICAgICAgIGdsb2JlOiBzdGF0ZS5vbkdsb2JlQ2xpY2ssXG4gICAgICAgIHBvaW50OiBzdGF0ZS5vblBvaW50Q2xpY2ssXG4gICAgICAgIGFyYzogc3RhdGUub25BcmNDbGljayxcbiAgICAgICAgcG9seWdvbjogc3RhdGUub25Qb2x5Z29uQ2xpY2ssXG4gICAgICAgIHBhdGg6IHN0YXRlLm9uUGF0aENsaWNrLFxuICAgICAgICBoZWF0bWFwOiBzdGF0ZS5vbkhlYXRtYXBDbGljayxcbiAgICAgICAgaGV4YmluOiBzdGF0ZS5vbkhleENsaWNrLFxuICAgICAgICBoZXhQb2x5Z29uOiBzdGF0ZS5vbkhleFBvbHlnb25DbGljayxcbiAgICAgICAgdGlsZTogc3RhdGUub25UaWxlQ2xpY2ssXG4gICAgICAgIHBhcnRpY2xlczogc3RhdGUub25QYXJ0aWNsZUNsaWNrLFxuICAgICAgICBsYWJlbDogc3RhdGUub25MYWJlbENsaWNrLFxuICAgICAgICBvYmplY3Q6IHN0YXRlLm9uT2JqZWN0Q2xpY2ssXG4gICAgICAgIGN1c3RvbTogc3RhdGUub25DdXN0b21MYXllckNsaWNrXG4gICAgICB9O1xuICAgICAgdmFyIGhvdmVyT2JqID0gZ2V0R2xvYmVPYmoob2JqKTtcblxuICAgICAgLy8gaWdub3JlIG5vbi1yZWNvZ25pc2VkIG9iaiB0eXBlc1xuICAgICAgaG92ZXJPYmogJiYgIWhvdmVyT2JqRm5zLmhhc093blByb3BlcnR5KGhvdmVyT2JqLl9fZ2xvYmVPYmpUeXBlKSAmJiAoaG92ZXJPYmogPSBudWxsKTtcbiAgICAgIGlmIChob3Zlck9iaiAhPT0gc3RhdGUuaG92ZXJPYmopIHtcbiAgICAgICAgdmFyIHByZXZPYmpUeXBlID0gc3RhdGUuaG92ZXJPYmogPyBzdGF0ZS5ob3Zlck9iai5fX2dsb2JlT2JqVHlwZSA6IG51bGw7XG4gICAgICAgIHZhciBwcmV2T2JqRGF0YSA9IHN0YXRlLmhvdmVyRGF0YTtcbiAgICAgICAgdmFyIG9ialR5cGUgPSBob3Zlck9iaiA/IGhvdmVyT2JqLl9fZ2xvYmVPYmpUeXBlIDogbnVsbDtcbiAgICAgICAgdmFyIG9iakRhdGEgPSBob3Zlck9iaiA/IGRhdGFBY2Nlc3NvcnNbb2JqVHlwZV0oaG92ZXJPYmouX19kYXRhLCBpbnRlcnNlY3Rpb24pIDogbnVsbDtcbiAgICAgICAgaWYgKHByZXZPYmpUeXBlICYmIHByZXZPYmpUeXBlICE9PSBvYmpUeXBlKSB7XG4gICAgICAgICAgLy8gSG92ZXIgb3V0XG4gICAgICAgICAgaG92ZXJPYmpGbnNbcHJldk9ialR5cGVdICYmIGhvdmVyT2JqRm5zW3ByZXZPYmpUeXBlXShudWxsLCBwcmV2T2JqRGF0YSB8fCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqVHlwZSkge1xuICAgICAgICAgIC8vIEhvdmVyIGluXG4gICAgICAgICAgaG92ZXJPYmpGbnNbb2JqVHlwZV0gJiYgaG92ZXJPYmpGbnNbb2JqVHlwZV0ob2JqRGF0YSwgcHJldk9ialR5cGUgPT09IG9ialR5cGUgPyBwcmV2T2JqRGF0YSA6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHBvaW50ZXIgaWYgaG92ZXJlZCBvYmplY3QgaXMgY2xpY2thYmxlXG4gICAgICAgIHN0YXRlLnJlbmRlck9ianMucmVuZGVyZXIoKS5kb21FbGVtZW50LmNsYXNzTGlzdFtvYmpUeXBlICYmIGNsaWNrT2JqRm5zW29ialR5cGVdID8gJ2FkZCcgOiAncmVtb3ZlJ10oJ2NsaWNrYWJsZScpO1xuICAgICAgICBzdGF0ZS5ob3Zlck9iaiA9IGhvdmVyT2JqO1xuICAgICAgICBzdGF0ZS5ob3ZlckRhdGEgPSBvYmpEYXRhO1xuICAgICAgfVxuICAgIH0pLm9uQ2xpY2soZnVuY3Rpb24gKG9iaiwgZXYsIGludGVyc2VjdGlvbikge1xuICAgICAgaWYgKCFvYmopIHJldHVybjsgLy8gaWdub3JlIGJhY2tncm91bmQgY2xpY2tzXG5cbiAgICAgIC8vIEhhbmRsZSBjbGljayBldmVudHMgb24gb2JqZWN0c1xuICAgICAgdmFyIG9iakZucyA9IHtcbiAgICAgICAgZ2xvYmU6IHN0YXRlLm9uR2xvYmVDbGljayxcbiAgICAgICAgcG9pbnQ6IHN0YXRlLm9uUG9pbnRDbGljayxcbiAgICAgICAgYXJjOiBzdGF0ZS5vbkFyY0NsaWNrLFxuICAgICAgICBwb2x5Z29uOiBzdGF0ZS5vblBvbHlnb25DbGljayxcbiAgICAgICAgcGF0aDogc3RhdGUub25QYXRoQ2xpY2ssXG4gICAgICAgIGhlYXRtYXA6IHN0YXRlLm9uSGVhdG1hcENsaWNrLFxuICAgICAgICBoZXhiaW46IHN0YXRlLm9uSGV4Q2xpY2ssXG4gICAgICAgIGhleFBvbHlnb246IHN0YXRlLm9uSGV4UG9seWdvbkNsaWNrLFxuICAgICAgICB0aWxlOiBzdGF0ZS5vblRpbGVDbGljayxcbiAgICAgICAgcGFydGljbGVzOiBzdGF0ZS5vblBhcnRpY2xlQ2xpY2ssXG4gICAgICAgIGxhYmVsOiBzdGF0ZS5vbkxhYmVsQ2xpY2ssXG4gICAgICAgIG9iamVjdDogc3RhdGUub25PYmplY3RDbGljayxcbiAgICAgICAgY3VzdG9tOiBzdGF0ZS5vbkN1c3RvbUxheWVyQ2xpY2tcbiAgICAgIH07XG4gICAgICB2YXIgZ2xvYmVPYmogPSBnZXRHbG9iZU9iaihvYmopO1xuICAgICAgdmFyIG9ialR5cGUgPSBnbG9iZU9iai5fX2dsb2JlT2JqVHlwZTtcbiAgICAgIGlmIChnbG9iZU9iaiAmJiBvYmpGbnMuaGFzT3duUHJvcGVydHkob2JqVHlwZSkgJiYgb2JqRm5zW29ialR5cGVdKSB7XG4gICAgICAgIHZhciBhcmdzID0gW2V2XTtcblxuICAgICAgICAvLyBpbmNsdWRlIGNsaWNrIGNvb3Jkc1xuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcnNlY3Rpb24gIT09IG51bGwgJiYgaW50ZXJzZWN0aW9uICE9PSB2b2lkIDAgJiYgaW50ZXJzZWN0aW9uLmlzVmVjdG9yMyA/IGludGVyc2VjdGlvbiA6IGludGVyc2VjdGlvbiA9PT0gbnVsbCB8fCBpbnRlcnNlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyc2VjdGlvbi5wb2ludDtcbiAgICAgICAgaWYgKG9ialR5cGUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICB2YXIgX3RoaXMkdG9HZW9Db29yZHMgPSBfdGhpcy50b0dlb0Nvb3Jkcyhwb2ludCksXG4gICAgICAgICAgICBsYXQgPSBfdGhpcyR0b0dlb0Nvb3Jkcy5sYXQsXG4gICAgICAgICAgICBsbmcgPSBfdGhpcyR0b0dlb0Nvb3Jkcy5sbmc7XG4gICAgICAgICAgYXJncy51bnNoaWZ0KHtcbiAgICAgICAgICAgIGxhdDogbGF0LFxuICAgICAgICAgICAgbG5nOiBsbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcmdzLnB1c2goX3RoaXMudG9HZW9Db29yZHMocG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhQWNjZXNzb3JzLmhhc093blByb3BlcnR5KG9ialR5cGUpICYmIGFyZ3MudW5zaGlmdChkYXRhQWNjZXNzb3JzW29ialR5cGVdKGdsb2JlT2JqLl9fZGF0YSwgaW50ZXJzZWN0aW9uKSk7XG4gICAgICAgIG9iakZuc1tvYmpUeXBlXS5hcHBseShvYmpGbnMsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0pLm9uUmlnaHRDbGljayhmdW5jdGlvbiAob2JqLCBldiwgaW50ZXJzZWN0aW9uKSB7XG4gICAgICBpZiAoIW9iaikgcmV0dXJuOyAvLyBpZ25vcmUgYmFja2dyb3VuZCBjbGlja3NcblxuICAgICAgLy8gSGFuZGxlIHJpZ2h0LWNsaWNrIGV2ZW50c1xuICAgICAgdmFyIG9iakZucyA9IHtcbiAgICAgICAgZ2xvYmU6IHN0YXRlLm9uR2xvYmVSaWdodENsaWNrLFxuICAgICAgICBwb2ludDogc3RhdGUub25Qb2ludFJpZ2h0Q2xpY2ssXG4gICAgICAgIGFyYzogc3RhdGUub25BcmNSaWdodENsaWNrLFxuICAgICAgICBwb2x5Z29uOiBzdGF0ZS5vblBvbHlnb25SaWdodENsaWNrLFxuICAgICAgICBwYXRoOiBzdGF0ZS5vblBhdGhSaWdodENsaWNrLFxuICAgICAgICBoZWF0bWFwOiBzdGF0ZS5vbkhlYXRtYXBSaWdodENsaWNrLFxuICAgICAgICBoZXhiaW46IHN0YXRlLm9uSGV4UmlnaHRDbGljayxcbiAgICAgICAgaGV4UG9seWdvbjogc3RhdGUub25IZXhQb2x5Z29uUmlnaHRDbGljayxcbiAgICAgICAgdGlsZTogc3RhdGUub25UaWxlUmlnaHRDbGljayxcbiAgICAgICAgcGFydGljbGVzOiBzdGF0ZS5vblBhcnRpY2xlUmlnaHRDbGljayxcbiAgICAgICAgbGFiZWw6IHN0YXRlLm9uTGFiZWxSaWdodENsaWNrLFxuICAgICAgICBvYmplY3Q6IHN0YXRlLm9uT2JqZWN0UmlnaHRDbGljayxcbiAgICAgICAgY3VzdG9tOiBzdGF0ZS5vbkN1c3RvbUxheWVyUmlnaHRDbGlja1xuICAgICAgfTtcbiAgICAgIHZhciBnbG9iZU9iaiA9IGdldEdsb2JlT2JqKG9iaik7XG4gICAgICB2YXIgb2JqVHlwZSA9IGdsb2JlT2JqLl9fZ2xvYmVPYmpUeXBlO1xuICAgICAgaWYgKGdsb2JlT2JqICYmIG9iakZucy5oYXNPd25Qcm9wZXJ0eShvYmpUeXBlKSAmJiBvYmpGbnNbb2JqVHlwZV0pIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbZXZdO1xuXG4gICAgICAgIC8vIGluY2x1ZGUgY2xpY2sgY29vcmRzXG4gICAgICAgIHZhciBwb2ludCA9IGludGVyc2VjdGlvbiAhPT0gbnVsbCAmJiBpbnRlcnNlY3Rpb24gIT09IHZvaWQgMCAmJiBpbnRlcnNlY3Rpb24uaXNWZWN0b3IzID8gaW50ZXJzZWN0aW9uIDogaW50ZXJzZWN0aW9uID09PSBudWxsIHx8IGludGVyc2VjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJzZWN0aW9uLnBvaW50O1xuICAgICAgICBpZiAob2JqVHlwZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgIHZhciBfdGhpcyR0b0dlb0Nvb3JkczIgPSBfdGhpcy50b0dlb0Nvb3Jkcyhwb2ludCksXG4gICAgICAgICAgICBsYXQgPSBfdGhpcyR0b0dlb0Nvb3JkczIubGF0LFxuICAgICAgICAgICAgbG5nID0gX3RoaXMkdG9HZW9Db29yZHMyLmxuZztcbiAgICAgICAgICBhcmdzLnVuc2hpZnQoe1xuICAgICAgICAgICAgbGF0OiBsYXQsXG4gICAgICAgICAgICBsbmc6IGxuZ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyZ3MucHVzaChfdGhpcy50b0dlb0Nvb3Jkcyhwb2ludCkpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFBY2Nlc3NvcnMuaGFzT3duUHJvcGVydHkob2JqVHlwZSkgJiYgYXJncy51bnNoaWZ0KGRhdGFBY2Nlc3NvcnNbb2JqVHlwZV0oZ2xvYmVPYmouX19kYXRhLCBpbnRlcnNlY3Rpb24pKTtcbiAgICAgICAgb2JqRm5zW29ialR5cGVdLmFwcGx5KG9iakZucywgYXJncyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL1xuXG4gICAgLy8gS2ljay1vZmYgcmVuZGVyZXJcbiAgICB0aGlzLl9hbmltYXRpb25DeWNsZSgpO1xuICB9XG59KTtcblxuZXhwb3J0IHsgZ2xvYmUgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/globe.gl/dist/globe.gl.mjs\n");

/***/ })

};
;